# DevContainer è¨­å®š

ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¯ã€VS Code DevContainer ã§ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹ç™ºã™ã‚‹ãŸã‚ã®è¨­å®šãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

1. **å‰ææ¡ä»¶**:
   - [VS Code](https://code.visualstudio.com/)
   - [Dev Containers æ‹¡å¼µæ©Ÿèƒ½](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers)
   - [Docker Desktop](https://www.docker.com/products/docker-desktop)

2. **DevContainer ã§é–‹ã**:
   - ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ VS Code ã§é–‹ã
   - `Ctrl+Shift+P` (Mac ã®å ´åˆã¯ `Cmd+Shift+P`) ã‚’æŠ¼ã™
   - ã€ŒDev Containers: Reopen in Containerã€ã¨å…¥åŠ›
   - ã‚³ãƒãƒ³ãƒ‰ã‚’é¸æŠã—ã¦ã‚³ãƒ³ãƒ†ãƒŠã®æ§‹ç¯‰ã‚’å¾…ã¤

## ğŸ“¦ å«ã¾ã‚Œã‚‹å†…å®¹

### ğŸ”§ mise ã«ã‚ˆã‚‹çµ±åˆãƒ„ãƒ¼ãƒ«ç®¡ç†
- **mise 2024.12+** ã«ã‚ˆã‚‹ä¸€å…ƒçš„ãªãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†
- **Dockerfileless è¨­å®š** - DevContainer Features ã‚’ä½¿ç”¨
- **AI å®‰å…¨ç’°å¢ƒ** - åˆ†é›¢ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒŠå®Ÿè¡Œç’°å¢ƒ
- **ãƒãƒ¼ã‚¸ãƒ§ãƒ³çµ±ä¸€** - ãƒ­ãƒ¼ã‚«ãƒ«ãƒ»CIãƒ»DevContainer ã§åŒä¸€ç’°å¢ƒ

### ğŸ Python ç’°å¢ƒ
- **Python 3.13.5** (mise ç®¡ç†)
- **UV ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼** (mise ç®¡ç†)
- **äº‹å‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ„ãƒ¼ãƒ«**: ruff, mypy, pytest, bandit
- **æ‹¡å¼µæ©Ÿèƒ½**: Python, Ruff, MyPy Type Checker

### ğŸ“œ JavaScript ç’°å¢ƒ  
- **Node.js 20.11.0** (mise ç®¡ç†)
- **Bun 1.1.42** (mise ç®¡ç†)
- **äº‹å‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ„ãƒ¼ãƒ«**: ESLint, Prettier, TypeScript
- **æ‹¡å¼µæ©Ÿèƒ½**: ESLint, Prettier, TypeScript

### ğŸ› ï¸ é–‹ç™ºãƒ„ãƒ¼ãƒ«
- **Git** with GitHub CLI
- **Docker-in-Docker** ã‚µãƒãƒ¼ãƒˆ
- **DevContainer Features**: ç°¡ç´ åŒ–ã•ã‚ŒãŸè¨­å®š
- **Shell**: Bash (mise ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®šæ¸ˆã¿)

### ğŸ”Œ VS Code æ‹¡å¼µæ©Ÿèƒ½
- Python é–‹ç™º: Python, Ruff, MyPy
- JavaScript é–‹ç™º: ESLint, Prettier, TypeScript  
- Git: GitLens
- ç”Ÿç”£æ€§: GitHub Copilot, Todo Highlight
- Docker: Docker æ‹¡å¼µæ©Ÿèƒ½

## ğŸŒ ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°

ä»¥ä¸‹ã®ãƒãƒ¼ãƒˆãŒè‡ªå‹•çš„ã«ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰ã•ã‚Œã¾ã™:

| ãƒãƒ¼ãƒˆ | ã‚µãƒ¼ãƒ“ã‚¹ | èª¬æ˜ |
|------|---------|-------------|
| 3000 | Frontend | React é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ |
| 5173 | Vite | ä»£æ›¿é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ |  
| 8000 | Backend | Python API ã‚µãƒ¼ãƒãƒ¼ |
| 8080 | Alternative | ä»£æ›¿ã‚µãƒ¼ãƒãƒ¼ |

## âš¡ ã‚¯ã‚¤ãƒƒã‚¯ã‚³ãƒãƒ³ãƒ‰

ã‚³ãƒ³ãƒ†ãƒŠã«ã¯ä¾¿åˆ©ãªã‚¨ã‚¤ãƒªã‚¢ã‚¹ãŒå«ã¾ã‚Œã¦ã„ã¾ã™:

### Python ã‚³ãƒãƒ³ãƒ‰
```bash
lint-py    # Python ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯
fix-py     # Python å•é¡Œã®è‡ªå‹•ä¿®æ­£
test-py    # Python ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
```

### JavaScript ã‚³ãƒãƒ³ãƒ‰
```bash
lint-js    # JavaScript ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯
fix-js     # JavaScript å•é¡Œã®è‡ªå‹•ä¿®æ­£  
test-js    # JavaScript ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
dev-js     # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
```

### Git ã‚³ãƒãƒ³ãƒ‰
```bash
gs         # git status
ga         # git add
gc         # git commit
gp         # git push
gl         # git log --oneline -10
```

### mise ã‚³ãƒãƒ³ãƒ‰
```bash
ms         # mise ls (ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸãƒ„ãƒ¼ãƒ«ä¸€è¦§)
msi        # mise install
msu        # mise use
```

## ğŸ“ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ 

```
.devcontainer/
â”œâ”€â”€ devcontainer.json     # ãƒ¡ã‚¤ãƒ³è¨­å®š (Dockerfileless)
â”œâ”€â”€ setup.sh            # ä½œæˆå¾Œã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ post-start.sh       # é–‹å§‹å¾Œã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â””â”€â”€ README.md           # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

## ğŸ”§ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### æ‹¡å¼µæ©Ÿèƒ½ã®è¿½åŠ 
`devcontainer.json` ã‚’ç·¨é›†ã—ã¦ã€`extensions` é…åˆ—ã«æ‹¡å¼µæ©Ÿèƒ½ ID ã‚’è¿½åŠ :

```json
"extensions": [
  "your.extension.id"
]
```

### Features ã®è¿½åŠ 
`devcontainer.json` ã® `features` ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«æ–°ã—ã„ Feature ã‚’è¿½åŠ :

```json
"features": {
  "ghcr.io/devcontainers/features/your-feature:1": {}
}
```

### ç’°å¢ƒå¤‰æ•°
`devcontainer.json` ã§ç’°å¢ƒå¤‰æ•°ã‚’è¿½åŠ :

```json
"containerEnv": {
  "YOUR_VAR": "value"
}
```

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚³ãƒ³ãƒ†ãƒŠãŒæ§‹ç¯‰ã§ããªã„
1. Docker Desktop ãŒå‹•ä½œã—ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
2. å†æ§‹ç¯‰ã‚’è©¦ã™: `Ctrl+Shift+P` > "Dev Containers: Rebuild Container"
3. VS Code ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ Docker ãƒ­ã‚°ã‚’ç¢ºèª

### ä¾å­˜é–¢ä¿‚ã®ä¸è¶³
ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒã™ã¹ã¦ã®ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ä½•ã‹ä¸è¶³ã—ã¦ã„ã‚‹å ´åˆ:
1. ã‚³ãƒ³ãƒ†ãƒŠã‚’å†é–‹: `Ctrl+Shift+P` > "Dev Containers: Reopen in Container"
2. æ‰‹å‹•å®Ÿè¡Œ: `cd backend && uv sync --all-extras`
3. ã¾ãŸã¯: `cd frontend && bun install`

### mise ãƒ„ãƒ¼ãƒ«ã®å•é¡Œ
```bash
# ãƒ„ãƒ¼ãƒ«çŠ¶æ³ç¢ºèª
mise ls

# å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
mise install

# mise è¨ºæ–­
mise doctor
```

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å•é¡Œ
1. Docker Desktop ã«ååˆ†ãªãƒ¡ãƒ¢ãƒªãŒå‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª (4GB+)
2. Volume ãƒã‚¦ãƒ³ãƒˆã®ä½¿ç”¨ã‚’æ¤œè¨
3. æœªä½¿ç”¨ã® VS Code ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‰ã˜ã‚‹

## ğŸ’¡ Tips

1. **çµ±åˆã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã®ä½¿ç”¨**: `Ctrl+Shift+\`` 
2. **ã‚¯ã‚¤ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢**: `Ctrl+P`
3. **ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆ**: `Ctrl+Shift+P`
4. **Git æ“ä½œ**: ã‚½ãƒ¼ã‚¹ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ‘ãƒãƒ«ã‚’ä½¿ç”¨ (`Ctrl+Shift+G`)
5. **æ‹¡å¼µæ©Ÿèƒ½**: æ‹¡å¼µæ©Ÿèƒ½ãƒ‘ãƒãƒ«ã‚’å‚ç…§ (`Ctrl+Shift+X`)
6. **mise ãƒ„ãƒ¼ãƒ«ç¢ºèª**: `mise ls` ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ãƒ„ãƒ¼ãƒ«ä¸€è¦§

## ğŸ”’ AI å®‰å…¨é–‹ç™ºç’°å¢ƒ

### ä¸»ãªå®‰å…¨æ©Ÿèƒ½
- **åˆ†é›¢å®Ÿè¡Œç’°å¢ƒ**: AIç”Ÿæˆã‚³ãƒ¼ãƒ‰ã®å®‰å…¨ãªå®Ÿè¡Œ
- **çµ±ä¸€ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: ãƒ­ãƒ¼ã‚«ãƒ«ãƒ»CIãƒ»DevContainer ã§å®Œå…¨åŒä¸€
- **Dockerfileless è¨­å®š**: ä¿å®ˆã—ã‚„ã™ã„è¨­å®š
- **è‡ªå‹•è¨­å®š**: mise ã«ã‚ˆã‚‹è‡ªå‹•ãƒ„ãƒ¼ãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
- ã‚³ãƒ³ãƒ†ãƒŠå†…ã§ã®åˆ†é›¢å®Ÿè¡Œ
- ãƒ›ã‚¹ãƒˆç’°å¢ƒã®ä¿è­·
- çµ±ä¸€é–‹ç™ºç’°å¢ƒã«ã‚ˆã‚‹äºˆæ¸¬å¯èƒ½æ€§
- è‡ªå‹•ä¾å­˜é–¢ä¿‚ç®¡ç†

## ğŸ”„ æ›´æ–°

DevContainer ã‚’æ›´æ–°ã™ã‚‹ã«ã¯:
1. è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¤‰æ›´
2. ã‚³ãƒ³ãƒ†ãƒŠã‚’å†æ§‹ç¯‰: `Ctrl+Shift+P` > "Dev Containers: Rebuild Container"
3. mise ãƒ„ãƒ¼ãƒ«ã®æ›´æ–°: `mise install` ã¾ãŸã¯ `mise upgrade`

## ğŸ“š è©³ç´°æƒ…å ±

- [VS Code DevContainers ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://code.visualstudio.com/docs/remote/containers)
- [DevContainer Features](https://containers.dev/features)
- [mise ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://mise.jdx.dev/)
- [AI å®‰å…¨é–‹ç™ºã‚¬ã‚¤ãƒ‰](https://sreake.com/blog/safe-universal-dev-env-with-devcontainer-mise/)

---

ğŸ’¡ **é–‹ç™ºã®ã‚³ãƒ„**: ã“ã® DevContainer ç’°å¢ƒã¯ AI ç”Ÿæˆã‚³ãƒ¼ãƒ‰ã®å®‰å…¨ãªå®Ÿè¡Œã¨ã€ãƒãƒ¼ãƒ å…¨ä½“ã§ã®çµ±ä¸€ã•ã‚ŒãŸé–‹ç™ºä½“é¨“ã‚’æä¾›ã—ã¾ã™ã€‚mise ã«ã‚ˆã‚Šãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå®Œå…¨ã«çµ±ä¸€ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€ç’°å¢ƒå·®ç•°ã«ã‚ˆã‚‹å•é¡Œã¯ç™ºç”Ÿã—ã¾ã›ã‚“ã€‚